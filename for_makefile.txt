# Variables
NAME		= push_swap
BONUS_NAME	= checker

CC			= cc
CFLAGS		= -Wall -Wextra -Werror
RM			= rm -f

# Directories
SRC_DIR		= src
OBJ_DIR		= obj
BONUS_DIR	= bonus
LIBFT_DIR	= libft
INCLUDE_DIR	= include

# Source files
SRC_FILES	= main.c parsing.c utils.c operations.c sort_small.c sort_large.c
BONUS_FILES	= checker.c parsing.c utils.c operations.c

# Object files
OBJ_FILES	= $(SRC_FILES:.c=.o)
BONUS_OBJ	= $(BONUS_FILES:.c=.o)

# Paths
SRC_PATH	= $(addprefix $(SRC_DIR)/, $(SRC_FILES))
OBJ_PATH	= $(addprefix $(OBJ_DIR)/, $(OBJ_FILES))
BONUS_PATH	= $(addprefix $(BONUS_DIR)/, $(BONUS_FILES))
BONUS_OBJ_PATH = $(addprefix $(OBJ_DIR)/, $(BONUS_OBJ))

# Include paths
INCLUDE		= -I$(INCLUDE_DIR) -I$(LIBFT_DIR)

# Library paths
LIBFT		= $(LIBFT_DIR)/libft.a

# Rules
all: $(NAME)

$(NAME): $(OBJ_PATH) $(LIBFT)
	@$(CC) $(CFLAGS) $(OBJ_PATH) $(LIBFT) -o $(NAME)
	@echo "$(NAME) compiled successfully!"

$(OBJ_DIR)/%.o: $(SRC_DIR)/%.c
	@mkdir -p $(OBJ_DIR)
	@$(CC) $(CFLAGS) $(INCLUDE) -c $< -o $@

$(LIBFT):
	@make -C $(LIBFT_DIR)

bonus: $(BONUS_NAME)

$(BONUS_NAME): $(BONUS_OBJ_PATH) $(LIBFT)
	@$(CC) $(CFLAGS) $(BONUS_OBJ_PATH) $(LIBFT) -o $(BONUS_NAME)
	@echo "$(BONUS_NAME) compiled successfully!"

$(OBJ_DIR)/%.o: $(BONUS_DIR)/%.c
	@mkdir -p $(OBJ_DIR)
	@$(CC) $(CFLAGS) $(INCLUDE) -c $< -o $@

clean:
	@$(RM) -r $(OBJ_DIR)
	@make -C $(LIBFT_DIR) clean
	@echo "Object files removed!"

fclean: clean
	@$(RM) $(NAME) $(BONUS_NAME)
	@make -C $(LIBFT_DIR) fclean
	@echo "Executables and libraries removed!"

re: fclean all

.PHONY: all bonus clean fclean re

#################################################"
Explanation of the Makefile
1. Variables

    NAME: The name of the main executable (push_swap).

    BONUS_NAME: The name of the bonus executable (checker).

    CC: The compiler to use (cc).

    CFLAGS: Compiler flags (-Wall -Wextra -Werror for strict compilation).

    RM: Command to remove files (rm -f).

2. Directories

    SRC_DIR: Directory for main source files.

    OBJ_DIR: Directory for object files.

    BONUS_DIR: Directory for bonus source files.

    LIBFT_DIR: Directory for the libft library.

    INCLUDE_DIR: Directory for header files.

3. Source and Object Files

    SRC_FILES: List of source files for the main program.

    BONUS_FILES: List of source files for the bonus program.

    OBJ_FILES: Object files for the main program.

    BONUS_OBJ: Object files for the bonus program.

4. Paths

    SRC_PATH: Full paths to the main source files.

    OBJ_PATH: Full paths to the main object files.

    BONUS_PATH: Full paths to the bonus source files.

    BONUS_OBJ_PATH: Full paths to the bonus object files.

5. Include and Library Paths

    INCLUDE: Include paths for header files.

    LIBFT: Path to the libft library.

6. Rules

    all: Compiles the main program (push_swap).

    $(NAME): Links object files and the libft library to create the main executable.

    $(OBJ_DIR)/%.o: Compiles source files into object files.

    $(LIBFT): Builds the libft library.

    bonus: Compiles the bonus program (checker).

    $(BONUS_NAME): Links bonus object files and the libft library to create the bonus executable.

    clean: Removes object files and cleans the libft directory.

    fclean: Removes executables and cleans the libft directory.

    re: Rebuilds the project from scratch.

Directory Structure

Ensure your project has the following structure:
Copy

.
â”œâ”€â”€ Makefile
â”œâ”€â”€ include/
â”‚   â””â”€â”€ push_swap.h
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ main.c
â”‚   â”œâ”€â”€ parsing.c
â”‚   â”œâ”€â”€ utils.c
â”‚   â”œâ”€â”€ operations.c
â”‚   â”œâ”€â”€ sort_small.c
â”‚   â””â”€â”€ sort_large.c
â”œâ”€â”€ bonus/
â”‚   â”œâ”€â”€ checker.c
â”‚   â”œâ”€â”€ parsing.c
â”‚   â”œâ”€â”€ utils.c
â”‚   â””â”€â”€ operations.c
â”œâ”€â”€ libft/
â”‚   â”œâ”€â”€ Makefile
â”‚   â”œâ”€â”€ libft.h
â”‚   â””â”€â”€ ... (other libft files)
â””â”€â”€ obj/

Usage
Compile the Main Program
bash
Copy

make

    Compiles push_swap.

Compile the Bonus Program
bash
Copy

make bonus

    Compiles checker.

Clean Object Files
bash
Copy

make clean

    Removes object files and cleans the libft directory.

Remove Executables and Clean
bash
Copy

make fclean

    Removes executables (push_swap and checker) and cleans the libft directory.

Rebuild the Project
bash
Copy

make re

    Rebuilds the project from scratch.

This Makefile is designed to handle both the main program and the bonus part of your Push Swap project. Let me know if you need further assistance! ðŸ˜Š
New chat
